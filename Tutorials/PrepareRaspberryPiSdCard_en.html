<!DOCTYPE html><html lang="en"><head><title>Prepare SD card image for Raspberry Pi</title><link rel="stylesheet" href="https://antilatency.github.io/3578B697FAF563F057DCF20D5FD636DD.css"><script src="https://antilatency.github.io/52205B2B96E6760B3F3CE9ED1FD4DF55.js"></script><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes"><meta property="og:title" content="Prepare SD card image for Raspberry Pi"><meta property="og:title" content="Prepare SD card image for Raspberry Pi"><meta property="og:description" content=""><meta property="og:image" content="https://antilatency.github.io/Images/84D95E2041621B5BC41BAFDF41BADD9D/84D95E2041621B5BC41BAFDF41BADD9D2048.jpg"><meta property="og:url" content="https://antilatency.github.io/Tutorials/PrepareRaspberryPiSdCard_en.html"><meta property="twitter:card" content="summary"></head><body class="TemplateRegularMaterial"><script>Behaviour.Initialize("TemplateLeftSideMenu",800,64)</script><nav class="menu LeftSideMenu" id="LeftSideMenu"><a class="Text AntilatencyLogo" href="https://antilatency.github.io/Root/Index_en.html" title="" style="font-family: 'antilatency' !important;"><span style="color: #ACC435">a</span><span style="color: #FFFFFF">l</span></a><a class="Text" href="https://antilatency.github.io/Root/Index_en.html" title="">Antilatency</a><a class="Text" href="https://antilatency.github.io/Terms/Antilatency_Device_Network_en.html" title="Antilatency Device Network - eng.">Antilatency Device Network</a><a class="Text" href="https://antilatency.github.io/Hardware/Alt_en.html" title="The Alt is an optical inertial tracking module. The Alt is located on objects being tracked and determines their position in space in relation to infrared markers.             Alt is supplied as a bundle with a wired SocketUsb.">Alt</a><a class="Text" href="https://antilatency.github.io/Internal/Debug_en.html" title="На этой странице странице некоторые примеры использования движка.">Debug</a><a class="Text" href="https://antilatency.github.io/Csml/CsmlPredefined/Diagnostics_en.html" title="This page provide diagnostics information about website. This page is auto generated.">Diagnostics</a><a class="Text" href="https://antilatency.github.io/Software/AntilatencyService_en.html" title="A utility allows to update the firmware and to look through the device tree. Besides, the AntilatencyService keeps in the settings of the tracking areas and placements for different VR gadgets.">AntilatencyService</a><a class="Text" href="https://antilatency.github.io/Store/PresetEditor_en.html" title="Welcome to Antilatency store!">Store</a><a class="Text" href="https://antilatency.github.io/Sdk/Configurator_en.html" title="На этой странице вы сможете &quot;Приготовить&quot; Sdk, выбрав платформу и добавив ингредиенты на ваш вкус">Sdk</a><a class="Text" href="https://antilatency.github.io/Api_en.html" title="">Api</a></nav><div class="Content" id="Content"><div class="Header"><h1 class="Title">Prepare SD card image for Raspberry Pi</h1><div class="Image" style="overflow: hidden;"><img src="https://antilatency.github.io/Images/84D95E2041621B5BC41BAFDF41BADD9D/84D95E2041621B5BC41BAFDF41BADD9D2048.jpg"><script>Behaviour.Initialize("RoiImage",1.0,[16.5,75.88,24.0,75.4])</script></div><div class="Text"></div></div><div class="Section"><h2 class="Title" id="Prepared_SDcard_image">Prepared SDcard image<a class="Link" href="#Prepared_SDcard_image" title="Heading anchor"></a></h2><div class="Text">You can <a href="https://yadi.sk/d/wWYRHLgcPli9FQ" title="https://yadi.sk/d/wWYRHLgcPli9FQ">download</a> Rasperry Pi 3+ image with installed Antilatency software:</div><ul class="List Unordered"><li><div class="Text"><a class="Text" href="https://antilatency.github.io/Tutorials/Antilatency_Ip_Tracking_Demo_Provider_RaspberryPi_en.html" title="Antilatency.IpTrackingDemo.Provider.RaspberryPi is a demo application that provides data from Antilatency Tracker (Alt) connected to Raspberry Pi single board computer to network hosts.">Antilatency.IpTrackingDemo.Provider.RaspberryPi</a></div></li><li><div class="Text"><a href="https://github.com/antilatency/Antilatency.RaspberryPiSdk.Cpp" title="https://github.com/antilatency/Antilatency.RaspberryPiSdk.Cpp">Antilatency Raspberry Pi SDK: C++ bindings</a></div></li></ul></div><div class="Section"><h2 class="Title" id="Raspbian">Raspbian<a class="Link" href="#Raspbian" title="Heading anchor"></a></h2><div class="Text"><a href="https://www.raspbian.org/" title="https://www.raspbian.org/">Raspbian</a> is the Raspberry Pi Foundation’s official supported operation system based on Debian GNU/Linux.</div><div class="Text">Images:</div><ul class="List Unordered"><li><div class="Text"><a href="https://downloads.raspberrypi.org/raspbian_lite_latest" title="https://downloads.raspberrypi.org/raspbian_lite_latest">Raspbian Lite</a> - minimal image with command line interface.</div></li><li><div class="Text"><a href="https://downloads.raspberrypi.org/raspbian_latest" title="https://downloads.raspberrypi.org/raspbian_latest">Raspbian Desktop </a> - Raspbian Lite + graphical user interface: <a href="https://www.raspberrypi.org/blog/introducing-pixel/" title="https://www.raspberrypi.org/blog/introducing-pixel/">PIXEL desktop environment</a></div></li></ul><div class="Text">Download preferred type of image and <a href="https://www.raspberrypi.org/documentation/installation/installing-images/README.md" title="https://www.raspberrypi.org/documentation/installation/installing-images/README.md">write it to microSD card</a> (you can install or remove GUI apps later).</div></div><div class="Section"><h2 class="Title" id="Wireless_setup">Wireless setup<a class="Link" href="#Wireless_setup" title="Heading anchor"></a></h2><div class="Text">You need to write WiFi network name / password to the Raspberry Pi SD card and enable SSH server before you can get remote access.</div><div class="Text">Insert microSD card to your PC card reader then create two files <code>wpa_supplicant.conf</code> and <code>ssh</code> in the <code>boot</code> folder on the SD card.</div><div class="Text">See <a href="https://www.raspberrypi.org/documentation/configuration/wireless/headless.md" title="https://www.raspberrypi.org/documentation/configuration/wireless/headless.md">headless setup</a> manual for details.</div></div><div class="Section"><h2 class="Title" id="Update_installed_software">Update installed software<a class="Link" href="#Update_installed_software" title="Heading anchor"></a></h2><div class="code powershell"><pre>
sudo apt update &amp;&amp; sudo apt upgrade
</pre></div></div><div class="Section"><h2 class="Title" id="Power_button">Power button<a class="Link" href="#Power_button" title="Heading anchor"></a></h2><div class="Text">Add support for <a class="Text NoTarget" href="https://antilatency.github.io/Csml/CsmlPredefined/NoTarget_en.html" title="This page does not exist yet">AntilatencyRPiSocket</a> power button.</div><div class="Text">Enable software shutdown via GPIO:</div><div class="Text">See more <a href="https://www.stderr.nl/Blog/Hardware/RaspberryPi/PowerButton.html" title="https://www.stderr.nl/Blog/Hardware/RaspberryPi/PowerButton.html">PowerButton</a></div><div class="code powershell"><pre>
echo <span class="string">&#39;dtoverlay=gpio-shutdown,gpio_pin=2&#39;</span> | sudo tee <span class="powershellOperator">-</span>a <span class="powershellOperator">/</span>boot<span class="powershellOperator">/</span>config.txt
</pre></div><div class="Text">Install WiringPi:</div><div class="Text"><a href="https://pinout.xyz/pinout/wiringpi" title="“WiringPi is an attempt to bring Arduino-wiring-like simplicity to the Raspberry Pi. The goal is to have a single common platform and set of functions for accessing the Raspberry Pi GPIO across multiple languages.”">WiringPi</a></div><div class="Text"><code>sudo apt update && sudo apt install wiringpi</code></div><div class="Text">Set <code>RPI_OS_OK GPIO</code> pin to <code>HIGH</code> state:</div><div class="code powershell"><pre>
sudo nano <span class="powershellOperator">/</span>etc<span class="powershellOperator">/</span>rc.local
</pre></div><div class="Text">Add lines:</div><div class="code cplusplus"><pre>
/usr/bin/gpio mode 2 output
/usr/bin/gpio write 2 1
</pre></div><div class="Text">before <code>exit 0</code> line. Then press <code>Ctrl+o</code> then press Enter for saving result. Press <code>Ctrl+x</code> for exit.</div><div class="Text">Setup <code>RPI_OFF_OK</code> GPIO pin:</div><div class="code powershell"><pre>
echo <span class="powershellOperator">-</span>e &#39;<span class="comment">#!/bin/sh</span>
gpio mode 3 output
gpio write 3 1
sleep 1
<span class="keyword">exit</span> 0&#39; | sudo tee <span class="powershellOperator">/</span>lib<span class="powershellOperator">/</span>systemd<span class="powershellOperator">/</span>system<span class="powershellOperator">-</span>shutdown<span class="powershellOperator">/</span>rpi_off_ok.sh <span class="powershellOperator">&gt;</span> <span class="powershellOperator">/</span>dev<span class="powershellOperator">/</span>null
</pre></div></div><div class="Section"><h2 class="Title" id="Prepare_installation_directory">Prepare installation directory<a class="Link" href="#Prepare_installation_directory" title="Heading anchor"></a></h2><div class="Text">Create package directories for Antilatency software and change owner:</div><div class="code powershell"><pre>
sudo mkdir <span class="powershellOperator">-</span>p <span class="powershellOperator">/</span>opt<span class="powershellOperator">/</span>antilatency<span class="powershellOperator">/</span>bin <span class="powershellOperator">/</span>opt<span class="powershellOperator">/</span>antilatency<span class="powershellOperator">/</span>lib <span class="powershellOperator">/</span>opt<span class="powershellOperator">/</span>antilatency<span class="powershellOperator">/</span>etc &amp;&amp; sudo chown <span class="powershellOperator">-</span>R pi:pi <span class="powershellOperator">/</span>opt<span class="powershellOperator">/</span>antilatency
</pre></div><div class="Text">Add rule for Antilatency USB devices:</div><div class="code powershell"><pre>
echo <span class="string">&#39;SUBSYSTEM==&quot;usb&quot;, ATTRS{idVendor}==&quot;3237&quot;, MODE=&quot;0666&quot;, GROUP=&quot;pi&quot;&#39;</span> | sudo tee <span class="powershellOperator">/</span>etc<span class="powershellOperator">/</span>udev<span class="powershellOperator">/</span>rules.d<span class="powershellOperator">/</span>66<span class="powershellOperator">-</span>antilatency.rules
</pre></div></div></div><nav class="language-menu"><a class="Text" href="https://antilatency.github.io/Tutorials/PrepareRaspberryPiSdCard_en.html" title="" onclick="this.href += window.location.hash;">English</a><a class="Text" href="https://antilatency.github.io/Tutorials/PrepareRaspberryPiSdCard_ru.html" title="" onclick="this.href += window.location.hash;">Русский</a></nav><footer class="Footer"><div class="FooterContainer"><div class="Grid"><script>Behaviour.Initialize("Grid",250,[1,2,4])</script><div class="Section"><h2 class="Title" id="Internal">Internal<a class="Link" href="#Internal" title="Heading anchor"></a></h2><div class="Text"><a href="https://antilatency.atlassian.net/secure/RapidBoard.jspa?rapidView=175&projectKey=CSML" title="https://antilatency.atlassian.net/secure/RapidBoard.jspa?rapidView=175&projectKey=CSML">Jira CSML</a></div><div class="Text"><a href="https://antilatency.atlassian.net/secure/RapidBoard.jspa?rapidView=177&projectKey=ALCOM" title="https://antilatency.atlassian.net/secure/RapidBoard.jspa?rapidView=177&projectKey=ALCOM">Jira Antilatency.com</a></div></div><div class="Section"><h2 class="Title" id="Products">Products<a class="Link" href="#Products" title="Heading anchor"></a></h2><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/Alt_en.html" title="The Alt is an optical inertial tracking module. The Alt is located on objects being tracked and determines their position in space in relation to infrared markers.             Alt is supplied as a bundle with a wired SocketUsb.">Alt</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/Bracer_en.html" title="The Bracer is a wireless Socket to track the user's hands designed for an ergonomic fit. Unlike standard VR controllers, the Bracer adds on 6DoF hand tracking while keeping the user's hands free to interact with material objects.">Bracer</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/ExtensionBoard_en.html" title="Pcb for easy using Antilatency Hardware Extension Interface">Antilatency Extension Board</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/PicoG2Socket_en.html" title="The Pico G2 Socket is a wireless Socket designed to track the PicoG2 headset and receive data from wireless devices via the Antilatency Radio Protocol.">Pico G2 Socket</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/SocketReferenceDesign_en.html" title="A development board for Socket with an Alt connector. You can use it as a base to custom your own Socket according to our recommedations.">SocketReferenceDesign</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/SocketUsbRadio_en.html" title="The HMD Radio Socket is a wireless Socket that supports both data reception from wireless devices via the Antilatency Radio Protocol and tracking data transmission when placed on the objects being tracked.">HMD Radio Socket</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/Tag_en.html" title="The Tag is a wireless Socket that can be attached to an object or a part of the human body to track them.              The Tag does not track its own position, but relays data from the Alt fitted into it.              The Tag can track material objects and custom controllers, for example dummy guns.">Tag</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/TrackingAreaFloor_en.html" title="Напольная зона трекинга собирается из специальных лент с ИК-маркерами. Ленты с ИК-маркерами фиксируются с помощью напольных плиток. Помимо лент с маркерами в комплект входят коннекторы и соединительные ленты для соединения лент между собой.">Напольная зона трекинга 10m²</a></div></div><div class="Section"><h2 class="Title" id="For_Developers">For Developers<a class="Link" href="#For_Developers" title="Heading anchor"></a></h2><div class="Text"><a class="Text" href="https://antilatency.github.io/Api_en.html" title="">Api</a></div><div class="Text"><a href="https://antilatency.com" title="https://antilatency.com">Tutorials</a></div><div class="Text"><a href="https://antilatency.com" title="https://antilatency.com">Tools</a></div></div><div class="Section"><h2 class="Title" id="Company">Company<a class="Link" href="#Company" title="Heading anchor"></a></h2><div class="Text"><a href="https://antilatency.com" title="https://antilatency.com">About</a></div><div class="Text"><a href="https://antilatency.com" title="https://antilatency.com">Contact Us</a></div><div class="Text"><a href="https://antilatency.com" title="https://antilatency.com">Become a partner</a></div></div></div><div class="Text"><a href="https://antilatency.com" title="https://antilatency.com">Personal data processing policy</a> | <a href="https://antilatency.com" title="https://antilatency.com">Terms of Services</a> | Copyright © 2020, ALT LLC. info@antilatency.com</div></div></footer></body></html>