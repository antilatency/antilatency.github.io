<!DOCTYPE html><html lang="en"><head><title>Antilatency.IpTrackingDemo.Provider.RaspberryPi</title><link rel="stylesheet" href="https://antilatency.github.io/58D125D1E430F2E30276319BAF12EE12.css"><script src="https://antilatency.github.io/BCFDDB64BF4B8393E155E2912DBDFE42.js"></script><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes"><meta property="og:title" content="Antilatency.IpTrackingDemo.Provider.RaspberryPi"><meta property="og:description" content="Antilatency.IpTrackingDemo.Provider.RaspberryPi is a demo application that provides data from Antilatency Tracker (Alt) connected to Raspberry Pi single board computer to network hosts."><meta property="og:image" content="https://antilatency.github.io/Images/176D1B2A47E7DB9CB5FC6470A46B2B15/176D1B2A47E7DB9CB5FC6470A46B2B152048.jpg"><meta property="og:url" content="https://antilatency.github.io/Tutorials/Antilatency_Ip_Tracking_Demo_Provider_RaspberryPi_ru.html"><meta property="twitter:card" content="summary"></head><body class="TemplateRegularMaterial"><script>Behaviour.Initialize("TemplateLeftSideMenu",800,64)</script><nav class="menu LeftSideMenu" id="LeftSideMenu"><a class="Text AntilatencyLogo" href="https://antilatency.github.io/Root/Index_ru.html" title="Компания мечты" style="font-family: 'antilatency' !important;"><span style="color: #ACC435">a</span><span style="color: #000000">l</span></a><a class="Text" href="https://antilatency.github.io/Root/Index_ru.html" title="Компания мечты">Antilatency</a><a class="Text" href="https://antilatency.github.io/Terms/Antilatency_Device_Network_ru.html" title="Библиотека для комуникации с устройствами Antilatency. Позволяет находить устройства среди подключенных, отслеживать подключение новых устройств, запускать задачи на устройствах, а также обновлять прошивку.">Antilatency Device Network</a><a class="Text" href="https://antilatency.github.io/Hardware/Alt_ru.html" title="Alt это оптико-инерциальный модуль трекинга. Alt размещается на объектах отслеживания и определяет свое положение в пространстве относительно инфракрасных маркеров.             Alt поставляется в комплекте с проводным SocketUsb.">Alt</a><a class="Text" href="https://antilatency.github.io/Internal/Debug_ru.html" title="На этой странице странице некоторые примеры использования движка.">Debug</a><a class="Text" href="https://antilatency.github.io/Csml/CsmlPredefined/Diagnostics_ru.html" title="This page provide diagnostics information about website. This page is auto generated.">Diagnostics</a><a class="Text" href="https://antilatency.github.io/Software/Antilatency_Service_ru.html" title="Служебное приложение Antilatency для управления настройками трекинга и обновления устройств">Antilatency Service</a><a class="Text" href="https://antilatency.github.io/Store/PresetEditor_ru.html" title="Welcome to Antilatency store!">Store</a><a class="Text" href="https://antilatency.github.io/Sdk/Configurator_ru.html" title="На этой странице вы сможите &quot;Приготовить&quot; Sdk, выбрав платформу и добавив ингредиенты на ваш вкус">Sdk</a><a class="Text" href="https://antilatency.github.io/Api_ru.html" title="">Api</a></nav><div id="Content" class="Content"><div class="Header"><h1 class="Title">Antilatency.<wbr>IpTrackingDemo.<wbr>Provider.<wbr>RaspberryPi</h1><div style="overflow: hidden;" class="Image"><img src="https://antilatency.github.io/Images/176D1B2A47E7DB9CB5FC6470A46B2B15/176D1B2A47E7DB9CB5FC6470A46B2B152048.jpg"><script>Behaviour.Initialize("RoiImage",1.0,[8.0,94.3,22.5,91.0])</script></div><div class="Text"><a class="Text" href="https://github.com/antilatency/Antilatency.IpTrackingDemo.Provider.RaspberryPi" title="https://github.com/antilatency/Antilatency.IpTrackingDemo.Provider.RaspberryPi">Antilatency.IpTrackingDemo.Provider.RaspberryPi</a> is a demo application that provides data from Antilatency Tracker (<a class="Text" href="https://antilatency.github.io/Hardware/Alt_ru.html" title="Alt это оптико-инерциальный модуль трекинга. Alt размещается на объектах отслеживания и определяет свое положение в пространстве относительно инфракрасных маркеров.             Alt поставляется в комплекте с проводным SocketUsb.">Alt</a>) connected to Raspberry Pi single board computer to network hosts.</div></div><div class="Section"><h2 class="Title" id="Preparation">Preparation<a class="Link" href="#Preparation" title="Heading anchor"></a></h2><ul class="List Unordered"><li><div class="Text">Get Raspberry Pi 3 or 4 single board computer (RPi).</div></li><li><div class="Text">Prepare microSD card with modified OS image (<a class="Text" href="https://antilatency.github.io/Tutorials/PrepareRaspberryPiSdCard_ru.html" title="">Prepare SD card image for Raspberry Pi</a>).</div></li><li><div class="Text">Get fast WiFi router. <a class="Text" href="https://en.wikipedia.org/wiki/IEEE_802.11ac" title="https://en.wikipedia.org/wiki/IEEE_802.11ac">802.11ac 5 GHz mode</a> support is highly recommended.</div></li><li><div class="Text">Power on RPi then <a class="Text" href="https://www.raspberrypistarterkits.com/how-to/find-raspberry-pi-ip-address/" title="https://www.raspberrypistarterkits.com/how-to/find-raspberry-pi-ip-address/">find out</a> board IP address.</div></li><li><div class="Text"><a class="Text" href="https://github.com/antilatency/Antilatency.IpTrackingDemo.Provider.RaspberryPi/blob/master/BUILD.md" title="https://github.com/antilatency/Antilatency.IpTrackingDemo.Provider.RaspberryPi/blob/master/BUILD.md">Build and deploy</a> AntilatencyIpTrackingDemoProvider app or just download binaries from GitHub release pages (place <a class="Text" href="https://github.com/antilatency/Antilatency.IpTrackingDemo.Provider.RaspberryPi/releases" title="https://github.com/antilatency/Antilatency.IpTrackingDemo.Provider.RaspberryPi/releases">app</a> to <code>/opt/antilatency/bin</code>, <a class="Text" href="https://github.com/antilatency/Antilatency.RaspberryPiSdk.Cpp/releases" title="https://github.com/antilatency/Antilatency.RaspberryPiSdk.Cpp/releases">libs</a> to <code>/opt/antilatency/lib</code>).</div></li></ul></div><div class="Section"><h2 class="Title" id="Send_position_and_rotation_to_network_hosts">Send position and rotation to network hosts<a class="Link" href="#Send_position_and_rotation_to_network_hosts" title="Heading anchor"></a></h2><div class="Text">It is possible to place tens of Antilatency trackers (<a class="Text" href="https://antilatency.github.io/Hardware/Alt_ru.html" title="Alt это оптико-инерциальный модуль трекинга. Alt размещается на объектах отслеживания и определяет свое положение в пространстве относительно инфракрасных маркеров.             Alt поставляется в комплекте с проводным SocketUsb.">Alt</a>) with corresponding amount of RPi’s in the same tracking area. Each RPi can communicate with Alt through USB connection, compute actual position from raw sensors data then send the position to remote hosts via built-in WiFi module. There is the <a class="Text" href="https://antilatency.github.io/Software/AntilatencyIpNetwork_ru.html" title="AntilatencyIpNetwork is a cross-platform C++ library with AntilatencyApi interface. The main purpose is to exchange position data from Antilatency Trackers (Alt) between devices, in the same local network (LAN). It supports Windows, Linux (desktop and Raspberry Pi) and Android OS.">AntilatencyIpNetwork</a> (AIP) library which simplified network communication setup.</div></div><div class="Section"><h2 class="Title" id="Getting_it_all_together">Getting it all together<a class="Link" href="#Getting_it_all_together" title="Heading anchor"></a></h2><div class="Text"><a class="Text" href="https://github.com/antilatency/Antilatency.IpTrackingDemo.Provider.RaspberryPi" title="https://github.com/antilatency/Antilatency.IpTrackingDemo.Provider.RaspberryPi">Antilatency.IpTrackingDemo.Provider.RaspberryPi</a> demo shows how to obtain tracking data and GPIO state from RPi board, send it via network connection, detect USB reconnection, handle errors. Then you need to setup receiver using the same multicast group address to obtain tracking data from remote AntilatencyIpTrackingDemoProvider app.</div><div class="Text">Start demo app (verbose output):</div><div class="powershell code"><pre>
<span class="powershellOperator">/</span>opt<span class="powershellOperator">/</span>antilatency<span class="powershellOperator">/</span>bin<span class="powershellOperator">/</span>AntilatencyIpTrackingDemoProvider <span class="powershellOperator">-</span>v
<span class="powershellOperator">[</span><span class="powershellType">15:27:31.905</span><span class="powershellOperator">]</span><span class="powershellOperator">[</span><span class="powershellType">000741</span><span class="powershellOperator">]</span><span class="powershellOperator">[</span><span class="powershellType">info</span><span class="powershellOperator">]</span> Start factory creation
Polling Thread Id 1982088240
<span class="powershellOperator">[</span><span class="powershellType">15:27:31.909</span><span class="powershellOperator">]</span><span class="powershellOperator">[</span><span class="powershellType">000741</span><span class="powershellOperator">]</span><span class="powershellOperator">[</span><span class="powershellType">info</span><span class="powershellOperator">]</span> Device <span class="powershellOperator">/</span> sys <span class="powershellOperator">/</span> bus <span class="powershellOperator">/</span> usb <span class="powershellOperator">/</span> devices <span class="powershellOperator">/</span> 1 <span class="powershellOperator">-</span> 1 <span class="powershellOperator">/</span> init completed.
...
<span class="powershellOperator">[</span><span class="powershellType">15:27:33.219</span><span class="powershellOperator">]</span><span class="powershellOperator">[</span><span class="powershellType">000741</span><span class="powershellOperator">]</span><span class="powershellOperator">[</span><span class="powershellType">info</span><span class="powershellOperator">]</span> Launched task a6c07d30<span class="powershellOperator">-</span>e3cf<span class="powershellOperator">-</span>44ed<span class="powershellOperator">-</span>b996<span class="powershellOperator">-</span>5f96998392e2 on 2 Node
id: rand706031805; c_time: 6649237; error: ; gpio: 001000011111000111100100
        tag: Head; err: None; posX: 0; posY: 0; posZ: 0; rotX: 0; rotY: 0; rotZ: 0; rotW: 1
id: rand706031805; c_time: 6649438; error: ; gpio: 001000011111000111100100
        tag: Head; err: None; posX: 0.000280265; posY: <span class="powershellOperator">-</span>0.000177345; posZ: <span class="powershellOperator">-</span>2.28101e<span class="powershellOperator">-</span>05; rotX: <span class="powershellOperator">-</span>2.59319e<span class="powershellOperator">-</span>05; rotY: <span class="powershellOperator">-</span>2.59936e<span class="powershellOperator">-</span>06; rotZ: 1.15174e<span class="powershellOperator">-</span>05; rotW: 1
id: rand706031805; c_time: 6649639; error: ; gpio: 001000011111000111100100
        tag: Head; err: None; posX: 0; posY: 1.68; posZ: 0; rotX: 0.0440574; rotY: <span class="powershellOperator">-</span>5.36158e<span class="powershellOperator">-</span>06; rotZ: 0.52934; rotW: 0.847265
</pre></div><div class="Text">You can set:</div><ul class="List Unordered"><li><div class="Text">receiver IP (multicast group, see <a class="Text" href="https://antilatency.github.io/Software/AntilatencyIpNetwork_ru.html" title="AntilatencyIpNetwork is a cross-platform C++ library with AntilatencyApi interface. The main purpose is to exchange position data from Antilatency Trackers (Alt) between devices, in the same local network (LAN). It supports Windows, Linux (desktop and Raspberry Pi) and Android OS.">AntilatencyIpNetwork</a>) and port (default: <code>--receivers=239.255.111.X --port=56789</code>),</div></li><li><div class="Text">sending rate (default: <code>--wait-time=16</code> milliseconds, approximate 60 FPS),</div></li><li><div class="Text">tracking area (default: <code>--environment-code=AAVSaWdpZBcABnllbGxvdwQEBAABAQMBAQEDAAEAAD_W</code> <a class="Text" href="https://antilatency.com/getting-started/latest/area#content" title="https://antilatency.com/getting-started/latest/area#content">DevKit</a>,</div></li><li><div class="Text">device ID (default: <code>--identifier=MAC_ADDR</code>),</div></li><li><div class="Text">GPIO pins state (for example: <code>--gpio=25:output:high</code> - sets <a class="Text" href="https://pinout.xyz/pinout/wiringpi" title="https://pinout.xyz/pinout/wiringpi">WiringPi pin 25</a> to output digital UP output mode)</div></li><li><div class="Text">path to a configuration file (for example: <code>--config=/etc/opt/antilatency/provider.conf</code>).</div></li></ul><div class="Text"><code>/etc/opt/antilatency/provider.conf</code> example:</div><div class="powershell code"><pre>
<span class="comment"># Multicast group</span>
<span class="powershellOperator">--</span>receivers<span class="powershellOperator">=</span>239.255.111.111

<span class="comment"># UnityUdpTrackingReceiver port</span>
<span class="powershellOperator">--</span>port<span class="powershellOperator">=</span>56789

<span class="comment"># DevKit</span>
<span class="powershellOperator">--</span>environment<span class="powershellOperator">=</span>AAVSaWdpZBcABnllbGxvdwQEBAABAQMBAQEDAAEAAD_W

<span class="comment"># ~60 FPS</span>
<span class="powershellOperator">--</span>wait<span class="powershellOperator">-</span>time<span class="powershellOperator">=</span>16

<span class="comment"># Set GPIO pins default state</span>
<span class="powershellOperator">--</span>gpio<span class="powershellOperator">=</span>25:output:high
</pre></div></div><div class="Section"><h2 class="Title" id="See_also">See also<a class="Link" href="#See_also" title="Heading anchor"></a></h2><ul class="List Unordered"><li><div class="Text"><a class="Text" href="https://github.com/antilatency/Antilatency.IpTrackingDemo.Provider.RaspberryPi/blob/master/BUILD.md" title="https://github.com/antilatency/Antilatency.IpTrackingDemo.Provider.RaspberryPi/blob/master/BUILD.md">Build instruction</a>.</div></li><li><div class="Text"><a class="Text" href="https://antilatency.github.io/Tutorials/PrepareRaspberryPiSdCard_ru.html" title="">Prepare SD card image for Raspberry Pi</a> - raspbian OS image modification.</div></li><li><div class="Text"><a class="Text" href="https://antilatency.github.io/Software/AntilatencyIpNetwork_ru.html" title="AntilatencyIpNetwork is a cross-platform C++ library with AntilatencyApi interface. The main purpose is to exchange position data from Antilatency Trackers (Alt) between devices, in the same local network (LAN). It supports Windows, Linux (desktop and Raspberry Pi) and Android OS.">AntilatencyIpNetwork</a> library API reference.</div></li><li><div class="Text"><a class="Text" href="https://www.youtube.com/watch?v=1VfFXoJiGFU" title="https://www.youtube.com/watch?v=1VfFXoJiGFU">Practical usage demonstration</a>.</div></li></ul></div></div><nav class="language-menu"><a class="Text" href="https://antilatency.github.io/Tutorials/Antilatency_Ip_Tracking_Demo_Provider_RaspberryPi_en.html" title="Antilatency.IpTrackingDemo.Provider.RaspberryPi is a demo application that provides data from Antilatency Tracker (Alt) connected to Raspberry Pi single board computer to network hosts." onclick="this.href += window.location.hash;">English</a><a class="Text" href="https://antilatency.github.io/Tutorials/Antilatency_Ip_Tracking_Demo_Provider_RaspberryPi_ru.html" title="Antilatency.IpTrackingDemo.Provider.RaspberryPi is a demo application that provides data from Antilatency Tracker (Alt) connected to Raspberry Pi single board computer to network hosts." onclick="this.href += window.location.hash;">Русский</a></nav><footer class="Footer"><div class="FooterContainer"><div class="Grid"><script>Behaviour.Initialize("Grid",250,[1,2,3,4])</script><div class="Section"><h2 class="Title" id="Internal">Internal<a class="Link" href="#Internal" title="Heading anchor"></a></h2><div class="Text"><a class="Text" href="https://antilatency.atlassian.net/secure/RapidBoard.jspa?rapidView=175&projectKey=CSML" title="https://antilatency.atlassian.net/secure/RapidBoard.jspa?rapidView=175&projectKey=CSML">Jira CSML</a></div><div class="Text"><a class="Text" href="https://antilatency.atlassian.net/secure/RapidBoard.jspa?rapidView=177&projectKey=ALCOM" title="https://antilatency.atlassian.net/secure/RapidBoard.jspa?rapidView=177&projectKey=ALCOM">Jira Antilatency.com</a></div></div><div class="Section"><h2 class="Title" id="Products">Products<a class="Link" href="#Products" title="Heading anchor"></a></h2><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/Alt_ru.html" title="Alt это оптико-инерциальный модуль трекинга. Alt размещается на объектах отслеживания и определяет свое положение в пространстве относительно инфракрасных маркеров.             Alt поставляется в комплекте с проводным SocketUsb.">Alt</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/Bracer_ru.html" title="Bracer - это wireless Socket для отслеживания рук пользователя, спроектированный для удобного размещения на руке. В отличие от стандартных VR-контроллеров, добавляя 6DoF отслеживание рук, Bracer оставляет руки пользователя свободными для взаимодействия с физическими предметами.">Bracer</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/ExtensionBoard_ru.html" title="Плата для удобного использования Antilatency Hardware Extension Interface">Antilatency Extension Board</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/PicoG2Socket_ru.html" title="Pico G2 Socket - это wireless Socket, спроектированный под шлем PicoG2 для трекинга шлема и приема данных от беспроводных устройств по Antilatency Radio Protocol.">Pico G2 Socket</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/SocketUsbRadio_ru.html" title="HMD Radio Socket - это wireless Socket, который поддерживает как прием данных от беспроводных устройств по Antilatency Radio Protocol, так и передачу данных трекинга при размещении на объектах отслеживания. ">HMD Radio Socket</a></div><div class="Text"><a class="Text" href="https://antilatency.github.io/Hardware/Tag_ru.html" title="Tag - это wireless Socket, который можно закрепить на объекте или части тела человека для их отслеживания.              Tag сам по себе не определяет свое положение, а передает данные с Alt, вставленного в него.              С использованием Tag можно отслеживать физические предметы и кастомные контроллеры, например, макеты оружия.">Tag</a></div></div><div class="Section"><h2 class="Title" id="For_Developers">For Developers<a class="Link" href="#For_Developers" title="Heading anchor"></a></h2><div class="Text"><a class="Text" href="https://antilatency.com/" title="https://antilatency.com/">API</a></div><div class="Text"><a class="Text" href="https://antilatency.com/" title="https://antilatency.com/">Tutorials</a></div><div class="Text"><a class="Text" href="https://antilatency.com/" title="https://antilatency.com/">Tools</a></div></div><div class="Section"><h2 class="Title" id="Company">Company<a class="Link" href="#Company" title="Heading anchor"></a></h2><div class="Text"><a class="Text" href="https://antilatency.com/" title="https://antilatency.com/">About</a></div><div class="Text"><a class="Text" href="https://antilatency.com/" title="https://antilatency.com/">Contact Us</a></div><div class="Text"><a class="Text" href="https://antilatency.com/" title="https://antilatency.com/">Become a partner</a></div></div></div><div class="Text"><a class="Text" href="https://antilatency.com/" title="https://antilatency.com/">Personal data processing policy</a> | <a class="Text" href="https://antilatency.com/" title="https://antilatency.com/">Terms of Services</a> | Copyright © 2020, ALT LLC. info@antilatency.com</div></div></footer></body></html>